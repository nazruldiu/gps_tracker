{% load static %}
<html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/2.0.8/css/dataTables.dataTables.min.css">
    
   <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <title>NeoTrack</title>
    <link rel="stylesheet" href="{% static 'custom.css' %}">
    <style>
        #wrapper {
    min-height: 100vh;
}

/* Sidebar */
#sidebar {
    width: 260px;
    transition: width 0.3s;
    overflow-x: hidden;
}

#sidebar.collapsed {
    width: 80px;
}

.sidebar-header {
    height: 60px;
    border-bottom: 1px solid #eee;
}

.menu-link {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    color: #333;
    text-decoration: none;
    cursor: pointer;
}

.menu-link:hover {
    background: #f4f6f8;
}

.menu-link i {
    font-size: 18px;
    min-width: 30px;
}

/* Submenu */
.submenu {
    padding-left: 45px;
}

.submenu a {
    display: block;
    padding: 8px 0;
    color: #666;
    text-decoration: none;
}

.submenu a:hover {
    color: #0d6efd;
}

/* Arrow rotation */
.menu-link[aria-expanded="true"] .arrow {
    transform: rotate(180deg);
}

.arrow {
    transition: transform 0.3s;
}

/* Collapse text */
#sidebar.collapsed .sidebar-text,
#sidebar.collapsed .arrow,
#sidebar.collapsed .submenu {
    display: none;
}

</style>
</head>
<body>
<div class="d-flex" id="wrapper">

    <!-- SIDEBAR -->
    <aside id="sidebar" class="bg-white border-end">
        <div class="sidebar-header d-flex align-items-center justify-content-between px-3">
            <div class="logo d-flex align-items-center">
                {% comment %} <img src="{% static 'logo.png' %}" height="28"> {% endcomment %}
                <i class="bi bi-geo-alt-fill"></i>
                <span class="ms-2 sidebar-text">NEO GPS</span>
            </div>
            <button class="btn btn-sm" id="sidebarToggle">
                <i class="bi bi-list"></i>
            </button>
        </div>
        <ul class="menu list-unstyled mt-3">
            <!-- Vehicles -->
            <li>
                <a data-bs-toggle="collapse" href="#vehiclesMenu" class="menu-link">
                    <i class="bi bi-car-front"></i>
                    <span class="sidebar-text">Vehicles</span>
                    <i class="bi bi-chevron-down ms-auto arrow"></i>
                </a>
                <ul class="collapse show submenu" id="vehiclesMenu">
                    <li><a class="dropdown-item" href="{% url 'vehicles_status' %}">Vehicle Status</a></li>
                    <li><a class="dropdown-item" href="{% url 'vehicles_report' %}">Vehicle Report</a></li>
                    <li><a class="dropdown-item" href="{% url 'add_vehicle' %}">Add Vehicle</a></li>
                    <li><a class="dropdown-item" href="{% url 'all_vehicles' %}">All Vehicles</a></li>
                    <li><a class="dropdown-item" href="{% url 'vehicles_track_all' %}">Track</a></li>
                </ul>
            </li>

            <!-- Vehicle Access -->
            <li>
                <a data-bs-toggle="collapse" href="#accessMenu" class="menu-link">
                    <i class="bi bi-shield-lock"></i>
                    <span class="sidebar-text">Vehicle Access</span>
                    <i class="bi bi-chevron-down ms-auto arrow"></i>
                </a>
                <ul class="collapse submenu" id="accessMenu">
                    <li><a href="#">Assign</a></li>
                </ul>
            </li>

            <!-- Drivers -->
            <li>
                <a data-bs-toggle="collapse" href="#driverMenu" class="menu-link">
                    <i class="bi bi-person-badge"></i>
                    <span class="sidebar-text">Drivers</span>
                    <i class="bi bi-chevron-down ms-auto arrow"></i>
                </a>
                <ul class="collapse submenu" id="driverMenu">
                    <li><a href="#">All Drivers</a></li>
                </ul>
            </li>

            <!-- Device -->
            <li>
                <a data-bs-toggle="collapse" href="#deviceMenu" class="menu-link">
                    <i class="bi bi-person-badge"></i>
                    <span class="sidebar-text">Devices</span>
                    <i class="bi bi-chevron-down ms-auto arrow"></i>
                </a>
                <ul class="collapse submenu" id="deviceMenu">
                    <li><a class="dropdown-item" href="{% url 'add_device' %}">Add Device</a></li>
                    <li><a class="dropdown-item" href="{% url 'all_devices' %}">All Devices</a></li>
                </ul>
            </li>
            <!-- Client -->
            <li>
                <a data-bs-toggle="collapse" href="#clientMenu" class="menu-link">
                    <i class="bi bi-person-badge"></i>
                    <span class="sidebar-text">Clients</span>
                    <i class="bi bi-chevron-down ms-auto arrow"></i>
                </a>
                <ul class="collapse submenu" id="clientMenu">
                    <li><a class="dropdown-item" href="{% url 'add_client' %}">Add Client</a></li>
                    <li><a class="dropdown-item" href="{% url 'all_clients' %}">All Clients</a></li>
                </ul>
            </li>
        </ul>
    </aside>

    <!-- CONTENT -->
    <main id="content" class="flex-fill p-4">
        {% block content %}{% endblock %}
    </main>
</div>
</body>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/2.0.8/js/dataTables.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
<script>
    document.getElementById("sidebarToggle").addEventListener("click", function () {
        document.getElementById("sidebar").classList.toggle("collapsed");
    });
</script>
{% block javascript %}
<!-- JavaScript files or scripts can be added by child templates here -->
{% endblock %}
</html>
